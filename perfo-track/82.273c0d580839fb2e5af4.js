(self.webpackChunkperfo_track=self.webpackChunkperfo_track||[]).push([[82],{5082:(t,e,n)=>{"use strict";n.r(e),n.d(e,{RegisterModule:()=>J});var i=n(8583),o=n(7716),c=n(6041),a=n(294),r=n(9763),s=n(2789),u=n(1095),m=n(6627);function d(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){return o.CHM(t),o.oxw().addNew()}),o.TgZ(1,"mat-icon"),o._uU(2,"add"),o.qZA(),o.qZA()}}function l(t,e){1&t&&(o.TgZ(0,"th",13),o._uU(1," Name "),o.qZA())}function f(t,e){if(1&t&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.name," ")}}function h(t,e){1&t&&(o.TgZ(0,"th",13),o._uU(1," Dept "),o.qZA())}function p(t,e){if(1&t&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.department," ")}}function g(t,e){1&t&&(o.TgZ(0,"th",13),o._uU(1," Year "),o.qZA())}function Z(t,e){if(1&t&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.currentYear," ")}}function _(t,e){1&t&&(o.TgZ(0,"th",13),o._uU(1," Registration Number "),o.qZA())}function N(t,e){if(1&t&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",t.regNo," ")}}function A(t,e){1&t&&(o.TgZ(0,"th",13),o._uU(1," Date Of Joining "),o.qZA())}function U(t,e){if(1&t&&(o.TgZ(0,"td",14),o._uU(1),o.ALo(2,"date"),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,t.joiningDate,"shortDate")," ")}}function D(t,e){1&t&&(o.TgZ(0,"th",13),o._uU(1," Modify "),o.qZA())}function w(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"td",14),o.TgZ(1,"button",15),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().edit(e.regNo)}),o._uU(2,"Edit"),o.qZA(),o.TgZ(3,"button",15),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().delete(e.regNo)}),o._uU(4,"Delete"),o.qZA(),o.qZA()}}function b(t,e){1&t&&o._UZ(0,"tr",16)}function k(t,e){1&t&&o._UZ(0,"tr",17)}let Y=(()=>{class t{constructor(t,e,n){this._common=t,this._login=e,this._route=n,this.displayedColumns=["Name","Department","Year","Date Of Joining","Registration Number"],this.dataSource=[],this.isAdmin=!1}ngOnInit(){this.isAdmin=this._login.isAdmin(),this.isAdmin&&this.displayedColumns.push("Modify")}ngAfterViewInit(){this.getUsers()}addNew(){this._route.navigateByUrl("dashboard/newUser/0")}edit(t){this._route.navigateByUrl("dashboard/newUser/"+t)}delete(t){this._common.requestOn.next(!0),this._common.deleteUser(t).subscribe(t=>{this.getUsers(),this._common.openSnackBar("Deleted Successfuly","Deleted")},t=>{this._common.openSnackBar("Error on deleting User","Error")})}getUsers(){this._common.getUsers().subscribe(t=>{this.dataSource=t},t=>{this._common.openSnackBar("Error Fetching Data","")})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.v),o.Y36(a.r),o.Y36(r.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-register"]],decls:22,vars:4,consts:[["mat-icon-button","","aria-label","Add",3,"click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Department"],["matColumnDef","Year"],["matColumnDef","Registration Number"],["matColumnDef","Date Of Joining"],["matColumnDef","Modify"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-icon-button","","aria-label","Add",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.YNc(0,d,3,0,"button",0),o.TgZ(1,"table",1),o.ynx(2,2),o.YNc(3,l,2,0,"th",3),o.YNc(4,f,2,1,"td",4),o.BQk(),o.ynx(5,5),o.YNc(6,h,2,0,"th",3),o.YNc(7,p,2,1,"td",4),o.BQk(),o.ynx(8,6),o.YNc(9,g,2,0,"th",3),o.YNc(10,Z,2,1,"td",4),o.BQk(),o.ynx(11,7),o.YNc(12,_,2,0,"th",3),o.YNc(13,N,2,1,"td",4),o.BQk(),o.ynx(14,8),o.YNc(15,A,2,0,"th",3),o.YNc(16,U,3,4,"td",4),o.BQk(),o.ynx(17,9),o.YNc(18,D,2,0,"th",3),o.YNc(19,w,5,0,"td",4),o.BQk(),o.YNc(20,b,1,0,"tr",10),o.YNc(21,k,1,0,"tr",11),o.qZA()),2&t&&(o.Q6J("ngIf",e._login.isAdmin),o.xp6(1),o.Q6J("dataSource",e.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns))},directives:[i.O5,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,u.lW,m.Hw,s.ge,s.ev,s.XQ,s.Gk],pipes:[i.uU],styles:[""]}),t})();var C=n(2458),x=n(3220),y=n(1769),q=n(9983),T=n(3679);const B=[{path:"",component:Y}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.ez,r.Bz.forChild(B),q.c,x.FA,C.XK,s.p0,T.u5,y.t,u.ot,m.Ps]]}),t})()}}]);